<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AL-Moanes</title>
    <link rel="stylesheet" href="style.scss" />
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
  </head>
  <body>
    <!-- Container -->
    <div class="container">
      <button class="sidebar-toggle" aria-label="Toggle Sidebar">
        <img src="/assets/side-bar.svg" alt="Toggle" />
      </button>
      <!-- side bar navigation -->
      <div id="sideBar">
        <ul class="nav-links">
          <li>
            <img src="/assets/home.svg" />
            <a href="#home" data-><span data-i18n="home">Home</span></a>
          </li>
          <li>
            <img src="/assets/headphones.svg" />
            <a href="#recitation"
              ><span data-i18n="recitation">Recitation</span></a
            >
          </li>
          <li>
            <img src="/assets/quran.svg" />
            <a href="#quran"><span data-i18n="quran">Quran</span></a>
          </li>
          <li>
            <img src="/assets/hadith.svg" />
            <a href="#hadith"><span data-i18n="hadith">Hadith</span></a>
          </li>
          <li>
            <button class="dropDown-lang-btn">
              <img src="/assets/language.svg" />
              <span data-i18n="language">Language</span>
              <img class="dropDone-arrow" src="/assets/dropdown-arrow.svg" />
            </button>
            <ul class="sub-menu">
              <div>
                <button id="ar-btn">
                  <img src="/assets/circle.svg" alt="Arabic" />
                  <span data-i18n="arabic">Arabic</span>
                </button>
                <button id="eng-btn">
                  <img src="/assets/circle.svg" alt="English" />
                  <span data-i18n="english">English</span>
                </button>
              </div>
            </ul>
          </li>
          <li>
            <img src="/assets/gmail.svg" />
            <a href="#contact"><span data-i18n="contact">Conatct Us</span></a>
          </li>
        </ul>
        <div class="palestine-badge">
          <a
            href="https://techforpalestine.org/"
            target="_blank"
            rel="noopener noreferrer"
          >
            <img
              src="https://img.shields.io/badge/ðŸ‡µðŸ‡¸%20Tech%20For%20Palestine-black?style=for-the-badge"
              alt="Tech For Palestine"
            />
          </a>
        </div>
      </div>

      <main>
        <nav class="logo__section">
          <img
            class="logo"
            src="/assets/Al-Moanes-mini-logo.png"
            alt="Al Moanes mini logo"
          />
        </nav>

        <!-- HOME SECTION -->
        <section id="home" class="hero__section">
          <div class="hero__content">
            <p class="hero__text" data-i18n="heroSubTitle">
              Listen to beautiful Quran recitations from your favorite readers
              with access to over 250 trusted reciters and multiple recitations
              from across the Islamic world.
            </p>
            <button class="hero__btn">
              <span data-i18n="ctaButton"> Install App</span>
              <img src="/assets/download.svg" alt="install" />
            </button>
          </div>
          <!-- Logo -->
          <div class="hero__logo_container">
            <img
              class="hero__logo_img"
              src="/assets/Al-Moanes.png"
              alt="AL-Moanes logo"
            />
          </div>
        </section>

        <!-- RECITATION SECTION -->
        <section id="recitation" class="listen__section">
          <!-- Reciter Dropdown -->
          <div class="listen__card">
            <label for="reciter" class="listen__label" data-i18n="selectReciter"
              >Select Reciter:</label
            >
            <select id="reciter" class="listen__select"></select>
          </div>

          <!-- Narration Dropdown -->
          <div class="listen__card">
            <label
              for="narration"
              class="listen__label"
              data-i18n="selectNarration"
              >Select Rewaya:</label
            >
            <select id="narration" class="listen__select"></select>
          </div>

          <!-- Surah Dropdown -->
          <div class="listen__card">
            <label for="surah" class="listen__label" data-i18n="selectSurah"
              >Select Surah:</label
            >
            <select id="surah" class="listen__select"></select>
          </div>

          <!-- Audio Player -->
          <div class="listen__player">
            <audio id="audioPlayer">
              <source src="#" type="audio/mpeg" />
              Your browser does not support the audio element.
            </audio>

            <div class="player__controls">
              <!-- Play Button -->
              <button id="playBtn" class="player__btn" title="Play/Pause">
                <img id="playIcon" src="/assets/play-audio.svg" alt="Play" />
              </button>

              <button
                id="prevSecBtn"
                class="player__btn-small"
                title="Previous 10s"
              >
                <img src="/assets/arrow-up-left.svg" alt="Previous" />
              </button>

              <!-- Progress Bar -->
              <div class="player__progress-container">
                <input
                  type="range"
                  min="0"
                  max="100"
                  value="0"
                  id="progressBar"
                />
              </div>

              <!-- Next 10s Button -->
              <button
                id="skipSecBtn"
                class="player__btn-small"
                title="Skip 10s"
              >
                <img src="/assets/arrow-up-right.svg" alt="Skip" />
              </button>

              <!-- Mute Button -->
              <button id="muteBtn" class="player__btn" title="Mute/Unmute">
                <img id="muteBtnIcon" src="/assets/unmute.svg" alt="Mute" />
              </button>

              <!-- Time Display -->
              <div class="player__time">
                <span id="surahCurrentTime">0:00</span>
                <span>/</span>
                <span id="surahDuration">0:00</span>
              </div>
            </div>
          </div>
        </section>

        <!-- Contact Section -->
        <section class="contact__section" id="contact">
          <div class="contact__container">
            <div class="contact__info">
              <h2 class="contact__heading" data-i18n="contactHeading">
                Contribute
              </h2>
              <p class="contact__description" data-i18n="contactDesc">
                Help improve this project by contributing code or reporting
                issues
              </p>

              <!-- Contribution Links -->
              <div class="contribute__links">
                <a
                  href="#"
                  class="contribute__link"
                  target="_blank"
                  rel="noopener noreferrer"
                >
                  <img src="assets/fund.svg" alt="Pull Requests" />
                  <div>
                    <span class="contribute__link_title" data-i18n="fundTitle"
                      >Fund project</span
                    >
                    <span class="contribute__link_desc" data-i18n="fundDesc"
                      >Not available for now!</span
                    >
                  </div>
                </a>

                <a
                  href="https://github.com/RezoualiRaouf/Al-Moanes"
                  class="contribute__link"
                  target="_blank"
                  rel="noopener noreferrer"
                >
                  <img src="assets/github.svg" alt="GitHub" />
                  <div>
                    <span
                      class="contribute__link_title"
                      data-i18n="contributeTitle"
                      >View Repository</span
                    >
                    <span
                      class="contribute__link_desc"
                      data-i18n="contributeDesc"
                      >Star our repo</span
                    >
                  </div>
                </a>

                <a
                  href="https://github.com/RezoualiRaouf/Al-Moanes/issues"
                  class="contribute__link"
                  target="_blank"
                  rel="noopener noreferrer"
                >
                  <img src="assets/issue.svg" alt="Issues" />
                  <div>
                    <span class="contribute__link_title" data-i18n="issueTitle"
                      >Report Issues</span
                    >
                    <span class="contribute__link_desc" data-i18n="issueDesc"
                      >Help us find and fix bugs</span
                    >
                  </div>
                </a>

                <a
                  href="https://github.com/RezoualiRaouf/Al-Moanes/pulls"
                  class="contribute__link"
                  target="_blank"
                  rel="noopener noreferrer"
                >
                  <img src="assets/pull-request.svg" alt="Pull Requests" />
                  <div>
                    <span
                      class="contribute__link_title"
                      data-i18n="pullReqTitle"
                      >Submit Pull Request</span
                    >
                    <span class="contribute__link_desc" data-i18n="pullReqDesc"
                      >Contribute by code</span
                    >
                  </div>
                </a>
              </div>
            </div>

            <!-- Contact Form -->
            <div class="contact__form_wrapper">
              <div class="contact__form_header">
                <h3 class="contact__form_title" data-i18n="formTitle">
                  Contact Us
                </h3>

                <!-- Submission Limit Tooltip -->
                <div class="tooltip-container">
                  <button
                    class="tooltip-trigger"
                    type="button"
                    aria-label="Form submission info"
                  >
                    <svg
                      class="tooltip-icon"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                      />
                    </svg>
                  </button>
                  <div class="tooltip-content">
                    <div class="tooltip-header">
                      <svg
                        class="tooltip-header-icon"
                        viewBox="0 0 20 20"
                        fill="currentColor"
                      >
                        <path
                          fill-rule="evenodd"
                          d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z"
                          clip-rule="evenodd"
                        />
                      </svg>
                      <h4 class="tooltip-title" data-i18n="toolTipTitle">
                        Form Submission
                      </h4>
                    </div>
                    <p class="tooltip-text">You have 2/2 submissions left</p>
                    <div class="tooltip-footer">
                      <svg
                        class="tooltip-check-icon"
                        viewBox="0 0 20 20"
                        fill="currentColor"
                      >
                        <path
                          fill-rule="evenodd"
                          d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
                          clip-rule="evenodd"
                        />
                      </svg>
                      <span>Restarts in 24h</span>
                    </div>
                  </div>
                </div>
              </div>

              <form id="contactForm" class="contact__form">
                <div class="form__group">
                  <input
                    class="form__input"
                    type="text"
                    placeholder="Full Name *"
                    id="form__name_input"
                    name="name"
                    required
                    data-i18n-placeholder="formNameHolder"
                  />
                </div>

                <div class="form__group">
                  <input
                    class="form__input"
                    type="email"
                    placeholder="Email Address *"
                    id="form__email_input"
                    name="email"
                    required
                    data-i18n-placeholder="formEmailHolder"
                  />
                </div>

                <div class="form__group">
                  <textarea
                    class="form__input form__textarea"
                    placeholder="Your Message *"
                    name="message"
                    id="form__message_input"
                    rows="5"
                    required
                    data-i18n-placeholder="formMsgHolder"
                  ></textarea>
                </div>

                <button
                  type="submit"
                  class="form__submit"
                  id="form__submit_btn"
                >
                  <span data-i18n="formSubmit">Send Message</span>
                  <svg
                    class="form__submit_icon"
                    viewBox="0 0 20 20"
                    fill="currentColor"
                  >
                    <path
                      d="M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"
                    />
                  </svg>
                </button>
              </form>
            </div>

            <!-- Success Popup -->
            <div class="popup-overlay" id="successPopup">
              <div class="popup-content">
                <div class="popup-icon popup-icon--success">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M5 13l4 4L19 7"
                    />
                  </svg>
                </div>
                <h3 class="popup-title" data-i18n="successTitle">
                  Message Sent!
                </h3>
                <p class="popup-message" data-i18n="successMsg">
                  Thank you for your message. We'll get back to you soon.
                </p>
                <button class="popup-btn" onclick="closePopup('successPopup')">
                  <span data-i18n="popClose">Close</span>
                </button>
              </div>
            </div>

            <!-- Error Popup -->
            <div class="popup-overlay" id="errorPopup">
              <div class="popup-content">
                <div class="popup-icon popup-icon--error">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M6 18L18 6M6 6l12 12"
                    />
                  </svg>
                </div>
                <h3 class="popup-title" data-i18n="errorTitle">Error</h3>
                <p class="popup-message" data-i18n="errorMsg">
                  Something went wrong. Please try again later.
                </p>
                <button class="popup-btn" onclick="closePopup('errorPopup')">
                  <span data-i18n="popClose">Close</span>
                </button>
              </div>
            </div>
          </div>
        </section>
        <div class="back_to_top">
          <img src="assets/arrow-up.svg" alt="back to top" />
        </div>
        <!--  Footer -->
        <footer>
          <div class="footer__container">
            <div class="footer__content">
              <!-- About Section -->
              <div class="footer__about">
                <img
                  class="footer__logo"
                  src="/assets/Al-Moanes-mini-logo.png"
                  alt="Al-Moanes Logo"
                />
              </div>
              
              <!-- Quick Links -->
              <div class="footer__section">
                <h3 class="footer__section-title" data-i18n="footerNav">
                  Navigation
                </h3>
                <ul class="footer__links">
                  <li>
                    <a href="#home" data-i18n="home">Home</a>
                  </li>
                  <li>
                    <a href="#recitation" data-i18n="recitation">Recitation</a>
                  </li>
                  <li>
                    <a href="#quran" data-i18n="quran">Quran</a>
                  </li>
                  <li>
                    <a href="#hadith" data-i18n="hadith">Hadith</a>
                  </li>
                  <li>
                    <a href="#contact" data-i18n="contact">Contact Us</a>
                  </li>
                </ul>
              </div>

        <!-- to do : add links to relative websites , my socials new settler script-->
              <!-- Resources -->
              <div class="footer__section">
                <h3 class="footer__section-title" data-i18n="footerLinks">
                  Links
                </h3>
                <ul class="footer__links">
                  
                </li>
                      <div class="footer__api-container">
                      <button class="footer__api-toggle" id="apiCreditsToggle">
                        <span data-i18n="footerWebSites">Similar websites</span>
                      </button>              
                      <div class="footer__api-credits" id="apiCredits">
                        <ul class="footer__api-list">
                          <li>
                            <a 
                              href="https://almunir.netlify.app/" 
                              target="_blank" 
                              rel="noopener noreferrer"
                            >
                              Al Munir
                            </a>
                          </li>
                        </ul>
                      </div>
                    </div>
                  <li>
                    <div class="footer__api-container">
                      <button class="footer__api-toggle" id="apiCreditsToggle">
                        <span data-i18n="footerAPI">API Credits</span>
                      </button>              
                      <div class="footer__api-credits" id="apiCredits">
                        <ul class="footer__api-list">
                          <li>
                            <a 
                              href="https://mp3quran.net/" 
                              target="_blank" 
                              rel="noopener noreferrer"
                              data-i18n="apiMP3Quran"
                            >
                              MP3 Quran
                            </a>
                          </li>
                        </ul>
                      </div>
                    </div>
                  </li>
                </ul>
              </div>

              <div class="footer__section">
              <!-- Newsletter -->
                <div class="footer__newsletter">
                  <h4
                    class="footer__section-title"
                    data-i18n="footerNewsletter"
                  >
                    Stay Updated
                  </h4>
                  <form class="footer__newsletter-form" id="newsletterForm">
                    <input
                      type="email"
                      class="footer__newsletter-input"
                      placeholder="Your email"
                      data-i18n-placeholder="footerEmailPlaceholder"
                      required
                    />
                    <button type="submit" class="footer__newsletter-btn">
                      <span data-i18n="footerSubscribe">Subscribe</span>
                    </button>
                  </form>
                </div>
              </div>
          </div>

            <!-- Bottom Section -->
            <div class="footer__bottom">
              <div class="copyright">
                <p>Â© <span id="current-year">2025</span> raoufrezouali All rights reserved.</p>
              </div>
              <script></script>
              
              <ul class="footer__bottom-links">
                <li>
                  <a href="#" data-i18n="footerPrivacy">Privacy Policy</a>
                </li>
                <li>
                  <a href="#" data-i18n="footerTerms">Terms of Service</a>
                </li>
                <li>
                  <a href="LICENSE.txt" data-i18n="footerLicense">License</a>
                </li>
              </ul>
            </div>
          </div>
        </footer>   
      </main>

      <!-- Language Panel Overlay  -->
      <div class="language-panel-overlay" id="languagePanelOverlay">
        <div class="language-panel">
          <div class="language-panel-header">
            <h3 class="language-panel-title" data-i18n="language">Language</h3>
            <button class="language-panel-close" id="languagePanelClose">
              <img src="/assets/dropdown-arrow.svg" alt="Close" />
            </button>
          </div>

          <!-- Language Options -->
          <div class="language-panel-options">
            <button class="language-panel-option" data-lang="ar">
              <img src="/assets/circle.svg" alt="Arabic" />
              <span data-i18n="arabic">Arabic</span>
            </button>
            <button class="language-panel-option" data-lang="en">
              <img src="/assets/circle.svg" alt="English" />
              <span data-i18n="english">English</span>
            </button>
          </div>
        </div>
      </div>

      <!-- Mobile Bottom Navigation -->
      <nav class="mobile-nav">
        <ul class="mobile-nav__list">
          <li>
            <a href="#home" class="mobile-nav__item active" data-nav="home">
              <img src="/assets/home.svg" alt="Home" />
              <span data-i18n="home">Home</span>
            </a>
          </li>
          <li>
            <a
              href="#recitation"
              class="mobile-nav__item"
              data-nav="recitation"
            >
              <img src="/assets/headphones.svg" alt="Recitation" />
              <span data-i18n="recitation">Recitation</span>
            </a>
          </li>
          <li>
            <a href="#quran" class="mobile-nav__item" data-nav="quran">
              <img src="/assets/quran.svg" alt="Quran" />
              <span data-i18n="quran">Quran</span>
            </a>
          </li>
          <li>
            <a href="#contact" class="mobile-nav__item" data-nav="contact">
              <img src="/assets/gmail.svg" alt="Contact" />
              <span data-i18n="contact">Contact</span>
            </a>
          </li>
          <li>
            <a href="#hadith" class="mobile-nav__item" data-nav="hadith">
              <img src="/assets/hadith.svg" alt="Hadith" />
              <span data-i18n="hadith">Hadith</span>
            </a>
          </li>
          <!-- Language Button -->
          <li>
            <button
              class="mobile-nav__item"
              id="mobileLanguageBtn"
              data-nav="language"
            >
              <img src="/assets/language.svg" alt="Language" />
              <span data-i18n="language">Language</span>
            </button>
          </li>
        </ul>
      </nav>

    <script>
      document.getElementById('current-year').innerText = new Date().getFullYear();
      // API Credits
      document.addEventListener("DOMContentLoaded", function () {
      const apiToggle = document.getElementById("apiCreditsToggle");
      const apiCredits = document.getElementById("apiCredits");

      function isMobile(){return window.innerWidth <= 768;}

      if (apiToggle && apiCredits) {
        apiToggle.addEventListener("click", function (e) {
          if (isMobile()) {
            e.preventDefault();
            
            apiToggle.classList.toggle("active");
            apiCredits.classList.toggle("show");
            
            const isExpanded = apiCredits.classList.contains("show");
            apiToggle.setAttribute("aria-expanded", isExpanded);
          }
        });

        // Set initial aria-expanded attribute
        apiToggle.setAttribute("aria-expanded", "false");
        document.addEventListener("click", function (e) {
          if (isMobile() && apiToggle && apiCredits) {
            // If clicking outside the toggle and credits area
            const apiContainer = apiToggle.closest(".footer__api-container");
            if (apiContainer && !apiContainer.contains(e.target)) {
              apiToggle.classList.remove("active");
              apiCredits.classList.remove("show");
              apiToggle.setAttribute("aria-expanded", "false");
            }
          }
        });

        let resizeTimer;
        window.addEventListener("resize", function () {
          clearTimeout(resizeTimer);
          resizeTimer = setTimeout(function () {
            if (!isMobile()) {
              // Switching to desktop
              apiToggle.classList.remove("active");
              apiCredits.classList.remove("show");
              apiToggle.setAttribute("aria-expanded", "false");
            }
          }, 250);
        });
      }
    });
    </script>     
    <script src="./scripts/translation.js" type="module"></script>
    <script src="./scripts/languageSwitcher.js" type="module"></script>
    <script src="./scripts/sideBar.js"></script>
    <script src="./scripts/mobileNav.js"></script>
    <script src="./scripts/fetchReciation.js" type="module"></script>
    <script src="./scripts/audioPlayer.js" type="module"></script>
    <script src="./scripts/config.js"></script>
    <script src="./scripts/contactForm.js" type="module"></script>
  </body>
</html>
